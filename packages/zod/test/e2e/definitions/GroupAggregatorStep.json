{
	"$schema": "https://json-schema.org/draft-07/schema#",
	"type": "object",
	"properties": {
		"groupBy": {
			"$ref": "#/definitions/GroupByConfiguration"
		},
		"aggregation": {
			"$ref": "#/definitions/AggregationConfiguration"
		}
	},
	"definitions": {
		"GroupByConfiguration": {
			"type": "object",
			"properties": {
				"asExpression": {
					"type": "boolean",
					"default": false
				},
				"configuration": {
					"$ref": "#/definitions/GroupByBasicConfiguration"
				},
				"expressionConfiguration": {
					"$ref": "#/definitions/GroupByExpressionConfiguration"
				}
			}
		},
		"AggregationConfiguration": {
			"type": "object",
			"properties": {
				"asExpression": {
					"type": "boolean",
					"default": false
				},
				"configuration": {
					"$ref": "#/definitions/AggregationBasicConfiguration"
				},
				"expressionConfiguration": {
					"$ref": "#/definitions/AggregationExpressionConfiguration"
				}
			}
		},
		"GroupByBasicConfiguration": {
			"type": "object",
			"properties": {
				"attributes": {
					"type": "array",
					"items": {
						"type": "string"
					}
				}
			}
		},
		"GroupByExpressionConfiguration": {
			"type": "object",
			"properties": {
				"isConvertible": {
					"type": "boolean",
					"default": false
				},
				"attributes": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/GroupByExpressionAttribute"
					}
				}
			}
		},
		"GroupByExpressionAttribute": {
			"type": "object",
			"properties": {
				"groupByExpression": {
					"type": "string",
					"default": ""
				},
				"attribute": {
					"$ref": "./Attribute.json"
				}
			}
		},
		"AggregationBasicConfiguration": {
			"type": "object",
			"properties": {
				"attributes": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/AggregationBasicAttribute"
					}
				}
			}
		},
		"AggregationBasicAttribute": {
			"type": "object",
			"properties": {
				"inputAttribute": {
					"type": "string",
					"default": ""
				},
				"aggregationFunction": {
					"$ref": "#/definitions/AggregationFunction",
					"default": "UNKNOWN"
				},
				"outputAttribute": {
					"$ref": "./Attribute.json"
				}
			}
		},
		"AggregationFunction": {
			"enum": [
				"COUNT",
				"SUM",
				"AVERAGE",
				"MINIMUM",
				"MAXIMUM",
				"CONCATENATE",
				"COUNT_DISTINCT",
				"ANY_VALUE",
				"UNKNOWN"
			],
			"enumDescriptions": {
				"COUNT": "Count of records.",
				"SUM": "Sum of numbers.",
				"AVERAGE": "Average of numbers.",
				"MINIMUM": "Minimum of value.",
				"MAXIMUM": "Maximum of value.",
				"CONCATENATE": "Concatenate values by ,",
				"COUNT_DISTINCT": "Count of distinct non null values.",
				"ANY_VALUE": "Returns the first value in a group.",
				"UNKNOWN": "For BE purpose when function is not set to prevent null pointer exception."
			}
		},
		"AggregationExpressionConfiguration": {
			"type": "object",
			"properties": {
				"isConvertible": {
					"type": "boolean",
					"default": false
				},
				"attributes": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/AggregationExpressionAttribute"
					}
				}
			}
		},
		"AggregationExpressionAttribute": {
			"type": "object",
			"properties": {
				"aggregationExpression": {
					"type": "string",
					"default": ""
				},
				"outputAttribute": {
					"$ref": "./Attribute.json"
				}
			}
		}
	}
}
